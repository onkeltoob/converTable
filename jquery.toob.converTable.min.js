(function(e){e.extend(e.fn,{converTable:function(t){var n=e.extend({termClass:"title",definitionClass:"",listClass:"converted",omitClass:"omit",oversizedOnly:true,oversizedOffset:0,includeTermTitles:false,includeDefinitionTitles:false},t);this.each(function(){var t=e(this);if(n.oversizedOnly===false||e(this).width()>e(this).parent().width()+n.oversizedOffset){var r=e("<dl/>").addClass(n.listClass).addClass(e(this).attr("class"));e(this).find("tr:has(td)").each(function(){var t="td."+n.termClass+":first";var i=n.omitClass?":not(."+n.omitClass+")":"";var s="td:not(."+n.termClass+":first)"+i;if(e(this).find(t).length===0){t="td:first";s="td:not(:first)"+i}var o=e(this).find(t);var u=o.attr("data-title")&&n.includeTermTitles?o.attr("data-title")+": ":"";r.append(e("<dt/>").addClass(n.termClass).addClass(o.attr("class")).html(u+o.html()));e(this).find(s).each(function(){u=e(this).attr("data-title")&&n.includeDefinitionTitles?e(this).attr("data-title")+": ":"";r.append(e("<dd/>").addClass(n.definitionClass).addClass(e(this).attr("class")).html(u+e(this).html()))})});e(this).replaceWith(r)}});return this}})})(jQuery)
